{% extends 'index.html' %}
{% load static %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
crossorigin=""></script>
{% block content %}
	<!-- breadcrumb-section -->
	<div class="breadcrumb-section breadcrumb-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 offset-lg-2 text-center">
					<div class="breadcrumb-text">
						<p>Get 24/7 Support</p>
						<h1>Contacté nous</h1>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end breadcrumb section -->

	<!-- contact form -->
	<div class="contact-from-section mt-150 mb-150">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 mb-5 mb-lg-0">
					<div class="form-title">
						<h2>Avez vous une question?</h2>
						<p>Veuillez rediger de façon detaillé votre préoccupation!</p>
					</div>
				 	<div id="form_status"></div>
						<div class="contact-form">
							<form method="POST" id="fruitkha-contact" onsubmit="return validateForm()">
								{% csrf_token %}
								<p>
									{{ form.name }}
									{{ form.email }}
								</p>
								<p>
									{{ form.phone }}
									{{ form.phone.errors }}
									{{ form.subject }}								
								</p>
								<p>{{ form.message }}</p>
								<p><input type="submit" value="Submit"></p>
							</form>

							

							<!-- Éléments pour afficher les messages d'erreur -->
							<div id="name-error" style="color: red;"></div>
							<div id="email-error" style="color: red;"></div>
							<div id="phone-error" style="color: red;"></div>
							<div id="subject-error" style="color: red;"></div>
							<div id="message-error" style="color: red;"></div>

							<script>
								function validateForm() {
									var name = document.getElementById("name").value;
									var email = document.getElementById("email").value;
									var phone = document.getElementById("phone").value;
									var subject = document.getElementById("subject").value;
									var message = document.getElementById("message").value;
									
									var isValid = true;

									// Validation pour le champ "name" (contient un nom)
									if (!/^[a-zA-Z\s]*$/.test(name)) {
										document.getElementById("name-error").textContent = "Name must contain a valid name.";
										isValid = false;
									} else {
										document.getElementById("name-error").textContent = "";
									}

									// Validation pour le champ "phone" (numéro de téléphone)
									if (!/^\d{10}$/.test(phone)) {
										document.getElementById("phone-error").textContent = "Phone must be a 10-digit number.";
										isValid = false;
									} else {
										document.getElementById("phone-error").textContent = "";
									}

									// Validation pour le champ "email" (adresse email)
									if (!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(email)) {
										document.getElementById("email-error").textContent = "Email must be a valid email address.";
										isValid = false;
									} else {
										document.getElementById("email-error").textContent = "";
									}

									// Validation pour le champ "subject" (phrase ou mot)
									if (!/^[a-zA-Z\s]*$/.test(subject)) {
										document.getElementById("subject-error").textContent = "Subject must contain a valid word or phrase.";
										isValid = false;
									} else {
										document.getElementById("subject-error").textContent = "";
									}

									// Validation pour le champ "message" (texte)
									if (!message.trim()) {
										document.getElementById("message-error").textContent = "Message is required.";
										isValid = false;
									} else {
										document.getElementById("message-error").textContent = "";
									}

									// Empêcher la soumission du formulaire si des erreurs sont détectées
									if (!isValid) {
										return false;
									}
								}
							</script>

		
							

						</div>
				</div>
				<div class="col-lg-4">
					<div class="contact-form-wrap">
						<div class="contact-form-box">
							<h4><i class="fas fa-map"></i> Notre Adresse</h4>
							<p>50m de kelso hotel<br> carrefour 2ème femme peule <br>Mockey Ville<br> Grand-Bassam.</p>
							
						</div>
						<div class="contact-form-box">
							<h4><i class="far fa-clock"></i> Heure d'ouverture</h4>
							<p>MAR - DIM  | 10h à 18h  
						</div>
						<div class="contact-form-box">
							<h4><i class="fas fa-address-book"></i> Contact</h4>
							<p>+225 27 35 987 847 <br> chapfood.grand.bassam@chapfood.com</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end contact form -->

	<!-- find our location -->
	<div class="find-location blue-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 text-center">
					<p> <i class="fas fa-map-marker-alt"></i> Find Our Location</p>
				</div>
			</div>
		</div>
	</div>
	<!-- end find our location -->

	<!-- google map section -->
	<div class="embed-responsive embed-responsive-21by9">
		<div id = 'map' width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" class="embed-responsive-item"></div>
	</div>
	<script>
		var mymap = L.map('map').setView([5.227006, -3.768016], 13);

		
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(mymap);
		var marker = L.marker([5.227006, -3.768016]).addTo(mymap);
		marker.bindPopup('Chapfood').openPopup();
		mymap.zoomControl.setPosition('bottomright');
	</script>
{% endblock %}
	